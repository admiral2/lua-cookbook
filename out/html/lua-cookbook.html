<div id="lua-cookbook"
><h1
  ><a href="#TOC"
    >Lua Cookbook</a
    ></h1
  ><p
  >By Lua Cookbook authors</p
  ></div
><div id="lua-cookbook-table-of-contents"
><h1
  ><a href="#TOC"
    >Lua Cookbook Table of Contents</a
    ></h1
  ></div
><div id="installing-lua-on-linux"
><h1
  ><a href="#TOC"
    >Installing Lua on Linux</a
    ></h1
  ><p
  >Author: Alexander Gladysh <script type="text/javascript"
    >
<!--
h='&#x67;&#x6d;&#x61;&#x69;&#108;&#46;&#x63;&#x6f;&#x6d;';a='&#64;';n='&#x61;&#x67;&#108;&#x61;&#100;&#x79;&#x73;&#104;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+'<code>'+e+'</code>'+'<\/'+'a'+'>');
// -->
</script
    ><noscript
    >&#x61;&#x67;&#108;&#x61;&#100;&#x79;&#x73;&#104;&#32;&#x61;&#116;&#32;&#x67;&#x6d;&#x61;&#x69;&#108;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#x6f;&#x6d;</noscript
    ></p
  ><p
  > Stub article</p
  ><div id="installing-from-source"
  ><h2
    ><a href="#TOC"
      >Installing from source</a
      ></h2
    ><p
    >You'll need <code
      >libreadline</code
      >.</p
    ><p
    ><span style="text-decoration: line-through;"
      ><span style="text-decoration: line-through;"
	><span style="text-decoration: line-through;"
	  ><span style="text-decoration: line-through;"
	    ><span style="text-decoration: line-through;"
	      ><span style="text-decoration: line-through;"
		><span style="text-decoration: line-through;"
		  ><span style="text-decoration: line-through;"
		    ><span style="text-decoration: line-through;"
		      ><span style="text-decoration: line-through;"
			><span style="text-decoration: line-through;"
			  ><span style="text-decoration: line-through;"
			    ><span style="text-decoration: line-through;"
			      ><span style="text-decoration: line-through;"
				><span style="text-decoration: line-through;"
				  ><span style="text-decoration: line-through;"
				    ><span style="text-decoration: line-through;"
				      ><span style="text-decoration: line-through;"
					><span style="text-decoration: line-through;"
					  ><span style="text-decoration: line-through;"
					    ><span style="text-decoration: line-through;"
					      ><span style="text-decoration: line-through;"
						><span style="text-decoration: line-through;"
						  ><span style="text-decoration: line-through;"
						    ><span style="text-decoration: line-through;"
						      ><span style="text-decoration: line-through;"
							><span style="text-decoration: line-through;"
							  ><span style="text-decoration: line-through;"
							    ><span style="text-decoration: line-through;"
							      ><span style="text-decoration: line-through;"
								><span style="text-decoration: line-through;"
								  ><span style="text-decoration: line-through;"
								    ><span style="text-decoration: line-through;"
								      >~[ console ]</span
								      > $ wget http://www.lua.org/ftp/lua-5.1.4.tar.gz $ tar -zxf lua-5.1.4.tar.gz $ cd lua-5.1.4.tar.gz $ make linux $ sudo make install</span
								    ></span
								  ></span
								></span
							      ></span
							    ></span
							  ></span
							></span
						      ></span
						    ></span
						  ></span
						></span
					      ></span
					    ></span
					  ></span
					></span
				      ></span
				    ></span
				  ></span
				></span
			      ></span
			    ></span
			  ></span
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span style="text-decoration: line-through;"
      ><span style="text-decoration: line-through;"
	><span style="text-decoration: line-through;"
	  ><sub
	    >~</sub
	    ></span
	  ></span
	></span
      ></p
    ><p
    > Check this</p
    ></div
  ><div id="ubuntu"
  ><h2
    ><a href="#TOC"
      >Ubuntu</a
      ></h2
    ><p
    >To install Lua on Ubuntu:</p
    ><p
    ><span style="text-decoration: line-through;"
      ><span style="text-decoration: line-through;"
	><span style="text-decoration: line-through;"
	  ><span style="text-decoration: line-through;"
	    ><span style="text-decoration: line-through;"
	      ><span style="text-decoration: line-through;"
		><span style="text-decoration: line-through;"
		  ><span style="text-decoration: line-through;"
		    ><span style="text-decoration: line-through;"
		      ><span style="text-decoration: line-through;"
			><span style="text-decoration: line-through;"
			  ><span style="text-decoration: line-through;"
			    ><span style="text-decoration: line-through;"
			      ><span style="text-decoration: line-through;"
				><span style="text-decoration: line-through;"
				  ><span style="text-decoration: line-through;"
				    ><span style="text-decoration: line-through;"
				      ><span style="text-decoration: line-through;"
					><span style="text-decoration: line-through;"
					  ><span style="text-decoration: line-through;"
					    ><span style="text-decoration: line-through;"
					      ><span style="text-decoration: line-through;"
						><span style="text-decoration: line-through;"
						  ><span style="text-decoration: line-through;"
						    ><span style="text-decoration: line-through;"
						      ><span style="text-decoration: line-through;"
							><span style="text-decoration: line-through;"
							  ><span style="text-decoration: line-through;"
							    ><span style="text-decoration: line-through;"
							      ><span style="text-decoration: line-through;"
								><span style="text-decoration: line-through;"
								  ><span style="text-decoration: line-through;"
								    ><span style="text-decoration: line-through;"
								      >~[ console ]</span
								      > $ sudo apt-get install lua</span
								    ></span
								  ></span
								></span
							      ></span
							    ></span
							  ></span
							></span
						      ></span
						    ></span
						  ></span
						></span
					      ></span
					    ></span
					  ></span
					></span
				      ></span
				    ></span
				  ></span
				></span
			      ></span
			    ></span
			  ></span
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      >~<span style="text-decoration: line-through;"
      ><span style="text-decoration: line-through;"
	><span style="text-decoration: line-through;"
	  ><sub
	    >~</sub
	    ></span
	  ></span
	></span
      ></p
    ><p
    > Note about LuaRocks incompatibilities (if any).</p
    ><p
    > Add more Linux flavors here.</p
    ></div
  ></div
><div id="networking-with-luasocket"
><h1
  ><a href="#TOC"
    >Networking with LuaSocket</a
    ></h1
  ><p
  >Author: Matthew Frazier <script type="text/javascript"
    >
<!--
h='&#x67;&#x6d;&#x61;&#x69;&#108;&#46;&#x63;&#x6f;&#x6d;';a='&#64;';n='&#108;&#x65;&#x61;&#102;&#x73;&#116;&#x6f;&#114;&#x6d;&#114;&#x75;&#x73;&#104;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+'<code>'+e+'</code>'+'<\/'+'a'+'>');
// -->
</script
    ><noscript
    >&#108;&#x65;&#x61;&#102;&#x73;&#116;&#x6f;&#114;&#x6d;&#114;&#x75;&#x73;&#104;&#32;&#x61;&#116;&#32;&#x67;&#x6d;&#x61;&#x69;&#108;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#x6f;&#x6d;</noscript
    ></p
  ><p
  >The most common library for networking in Lua is <a href="http://w3.impa.br/~diego/software/luasocket/"
    >LuaSocket</a
    > by Diego Nehab. In addition to low-level support for communicating directly through sockets, it also includes:</p
  ><ul
  ><li
    >HTTP client</li
    ><li
    >FTP client</li
    ><li
    >SMTP client</li
    ><li
    >Mail processing filters</li
    ><li
    >URL manipulating functions</li
    ></ul
  ><p
  >LuaSocket is installable via LuaRocks, as explained in :ref:`luarocks`. Many distributions also provide LuaSocket packages.</p
  ><p
  > Fix references</p
  ><div id="socket-level-programming"
  ><h2
    ><a href="#TOC"
      >Socket-Level Programming</a
      ></h2
    ><p
    >To create a TCP socket <sup
      ><a href="#fn1" class="footnoteRef" id="fnref1"
	>1</a
	></sup
      > connected to a particular place, you can use <code
      >socket.connect</code
      >, like this:</p
    ><pre
    ><code
      >require 'socket'
local sock = socket.connect(&quot;www.example.com&quot;, 80)
</code
      ></pre
    ><p
    >From there, you can send and receive on the socket object.</p
    ><pre
    ><code
      >sock:send(&quot;GET / HTTP/1.0\n\n&quot;)
local data = sock:recv()
</code
      ></pre
    ><p
    >You could also use <code
      >socket.tcp(&quot;www.example.com&quot;, 80)</code
      > and then <code
      >connect</code
      > it separately, but this is a shortcut.</p
    ></div
  ><div id="servers"
  ><h2
    ><a href="#TOC"
      >Servers</a
      ></h2
    ><p
    >Servers are <em
      >cool!</em
      > According to some guy we met:</p
    ><blockquote
    ><p
      >Servers are the whole reason the Internet exists as we know it.</p
      ></blockquote
    ><p
    >You can create servers by using <code
      >socket.bind</code
      >.</p
    ><p
    >Here is a graph about servers.</p
    ><div class="figure"
    ><img src="19-networking/01-server-graph.jpg" alt="image"
       /><p class="caption"
      >image</p
      ></div
    ><div id="concurrency"
    ><h3
      ><a href="#TOC"
	>Concurrency</a
	></h3
      ><p
      >Everyone is talking about concurrency these days!</p
      ><p
      >Some of the ways people have thought of for being concurrent are:</p
      ><ol style="list-style-type: decimal;"
      ><li
	>Multithreading.</li
	><li
	>Having multiple processes.</li
	><li
	>Asynchronous programming.</li
	></ol
      ><p
      >Fortunately, Lua has something cool you can use for number three: Coroutines! (If you don't know about coroutines, see :ref:`using-coroutines` for more info.)</p
      ></div
    ></div
  ><div id="glossary"
  ><h2
    ><a href="#TOC"
      >Glossary</a
      ></h2
    ><dl
    ><dt
      >client</dt
      ><dd
      ><p
	>The program run by the user that talks to clients.</p
	></dd
      ><dt
      >server</dt
      ><dd
      ><p
	>The program that clients talk to.</p
	></dd
      ><dt
      >TCP</dt
      ><dd
      ><p
	>What most people use nowadays instead of UDP.</p
	></dd
      ></dl
    ></div
  ></div
><div id="lua-cookbook-alphabetic-index"
><h1
  ><a href="#TOC"
    >Lua Cookbook Alphabetic Index</a
    ></h1
  ><blockquote
  ><p
    >Lua Cookbook is cool, everyone should read it -- anonymous</p
    ></blockquote
  ></div
><div class="footnotes"
><hr
   /><ol
  ><li id="fn1"
    ><p
      >There's also UDP, but we're not covering it in this introduction. <a href="#fnref1" class="footnoteBackLink" title="Jump back to footnote 1">↩</a></p
      ></li
    ></ol
  ></div
>
